function r(o){window.enmity.plugins.registerPlugin(o)}function w(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common,window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts;const l=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const t=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{native:e}=window.enmity;function a(){e.reload()}e.version,e.build,e.device,e.version;const c={name:"EnableStaging",version:"3.0.1",description:"Bypasses experiment gate. Fuck you aj.",authors:[{name:"dia \u2661",id:"696828906191454221"},{name:"Rosie<3",id:"581573474296791211"}],color:"#2F3136",onStart(){let o=0;const s=20,d=25,m=()=>{try{const i=w("getSerializedState");if(!t.getCurrentUser())return o++>=s?console.error(`[EnableStaging] Attempted ${s} times and current user is still undefined. Giving up.`):(console.warn(`[EnableStaging] Current user has not initialized yet! Trying again in ${d}ms.`),setTimeout(()=>m(),d));t.getCurrentUser().flags|=1,t._dispatcher._actionHandlers._computeOrderedActionHandlers("OVERLAY_INITIALIZE").forEach(function(n){n.name.includes("Experiment")&&n.actionHandler({serializedExperimentStore:i.getSerializedState(),user:{flags:1}})})}catch(i){const n=new Error(i);console.error(n.stack),setTimeout(()=>m(),1e3)}};setTimeout(()=>m(),500)},onStop(){l.show({title:"Experiments Disabled.",body:"Disabling Experiments requires a restart, would you like to restart Discord?",confirmText:"Yes",cancelText:"No",onConfirm:a})}};r(c);
